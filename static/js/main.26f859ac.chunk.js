(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports={Main:"Main_Main__22WzM"}},108:function(e,t,n){e.exports={Preloader:"Preloader_Preloader__PcQp7"}},110:function(e,t,n){e.exports=n(228)},228:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(40),o=n.n(r),c=n(54),s=n(231),l=n(33),u=n(18),h=n(17),d=n(92),b=n(93),f=n(94),p=n(95),O=n.n(p),v=n(96),k=Object(u.d)(v.createHistory)({basename:"/file.stream.app"}),j=n(44),y={chunkSize:10485760},w={showPreloader:!1},m=Object(h.combineReducers)({routing:l.routerReducer,chunkPicker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHUNK_SIZE_TYPE":return Object(j.a)({},e,{chunkSize:t.payload});default:return e}},preloader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PRELOADER_TYPE":case"FINISH_PRELOADER_TYPE":return Object(j.a)({},e,{showPreloader:t.payload});default:return e}}}),E=function(){var e=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),t=Object(f.createLogger)(),n=Object(l.routerMiddleware)(k),a=Object(h.createStore)(m,e,Object(d.composeWithDevTools)(Object(h.applyMiddleware)(b.a,t,n)));return a.subscribe(O()(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}({chunkPicker:a.getState().chunkPicker})},1e3)),a},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var S=n(97),_=n.n(S),C=function(e){var t=e.children;return i.a.createElement("div",{id:"App",className:_.a.App},t)},z=n(13),R=n(14),A=n(36),T=n(35),L=n(37),F=function(e){return{type:"SET_CHUNK_SIZE_TYPE",payload:e}},D=n(3),I=n(11),N=n(98),x=n.n(N),W={AS_BINARY_STRING:"readAsBinaryString",AS_TEXT:"readAsText",AS_DATA_URL:"readAsDataURL",AS_ARRAY_BUFFER:"readAsArrayBuffer"},B=function(){function e(t){Object(z.a)(this,e),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object(D.a)(this,M)[M]=t}return Object(R.a)(e,[{key:"readAsync",value:function(e,t,n,a){if(!Object(D.a)(this,M)[M])throw new G("Chunk size should exists and not be equals to zero!");if(!e)throw new G("File should exists!");if(!t)throw new G("Type of reading should exists!");if(!Object.values(W).includes(t))throw new G("Incorrect type of reading!");e.size<Object(D.a)(this,M)[M]&&(Object(D.a)(this,M)[M]=e.size);var i=Object(D.a)(this,M)[M],r=Object(D.a)(this,M)[M];new H(0,i,r,t).read(e,n,a)}},{key:"readAsyncPromise",value:function(e,t,n,a){var i={chunkSize:Object(D.a)(this,M)[M],file:e,typeOfReading:t,onLoadFileCallback:n,onLoadChunkCallback:a},r=new X;return r.validate(i).then(function(e){return r.read(e)})}},{key:"writeAsync",value:function(e,t,n){if(!e)throw new G("File should exists!");if(!t)throw new G("Chunk should exists!");Object(D.a)(this,Y)[Y]||(Object(D.a)(this,Y)[Y]=new Q(e)),Object(D.a)(this,Y)[Y].write(t,n)}},{key:"close",value:function(e){Object(D.a)(this,Y)[Y]&&Object(D.a)(this,Y)[Y].close(e)}}]),e}(),M=Object(I.a)("chunkSize"),Y=Object(I.a)("fileStreamWriterAsync"),G=function(){function e(t){Object(z.a)(this,e),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object(D.a)(this,Z)[Z]=t}return Object(R.a)(e,[{key:"message",get:function(){return Object(D.a)(this,Z)[Z]}}]),e}(),Z=Object(I.a)("message"),H=function(){function e(t,n,a,i){Object(z.a)(this,e),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,V,{writable:!0,value:void 0}),Object.defineProperty(this,q,{writable:!0,value:void 0}),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,K,{writable:!0,value:void 0}),Object(D.a)(this,U)[U]=t,Object(D.a)(this,V)[V]=n,Object(D.a)(this,q)[q]=a,Object(D.a)(this,J)[J]=i,Object(D.a)(this,K)[K]=new FileReader}return Object(R.a)(e,[{key:"read",value:function(e,t,n){var a=this;Object(D.a)(this,K)[K].onloadend=function(i){Object(D.a)(a,U)[U]>=e.size?t&&t(e):(n&&n(e,i),Object(D.a)(a,U)[U]+=Object(D.a)(a,q)[q],Object(D.a)(a,V)[V]+=Object(D.a)(a,q)[q],a.read(e,t,n))},Object(D.a)(this,K)[K][Object(D.a)(this,J)[J]](e.slice(Object(D.a)(this,U)[U],Object(D.a)(this,V)[V]))}}]),e}(),U=Object(I.a)("start"),V=Object(I.a)("stop"),q=Object(I.a)("step"),J=Object(I.a)("typeOfReading"),K=Object(I.a)("fileReader"),X=function(){function e(){Object(z.a)(this,e),this.validate=function(e){return new Promise(function(t,n){e.chunkSize||n("Chunk size should exists and not be equals to zero!"),e.file||n("Chunk size should exists and not be equals to zero!"),e.typeOfReading||n("Type of reading should exists!"),Object.values(W).includes(e.typeOfReading)||n("Incorrect type of reading!"),e.file.size<e.chunkSize&&(e.chunkSize=e.file.size),e.start=0,e.stop=e.chunkSize,e.step=e.chunkSize,t(e)})}}return Object(R.a)(e,[{key:"read",value:function(e){var t=new FileReader;return new Promise(function n(a,i){t.onloadend=function(t){e.onLoadChunkCallback&&e.onLoadChunkCallback(e.file,t),e.start+=e.step,e.stop+=e.step,e.start>=e.file.size?(e.onLoadFileCallback&&e.onLoadFileCallback(e.file),a(e.file)):n(a,i)},t[e.typeOfReading](e.file.slice(e.start,e.stop))})}}]),e}(),Q=function(){function e(t){var n=this;Object(z.a)(this,e),Object.defineProperty(this,$,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:void 0}),Object.defineProperty(this,te,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:function(){Object(D.a)(n,ee)[ee].abort()}}),Object(D.a)(this,$)[$]=t;var a=x.a.createWriteStream(Object(D.a)(this,$)[$].name);Object(D.a)(this,ee)[ee]=a.getWriter(),Object(D.a)(this,te)[te]=TextEncoder.prototype.encode.bind(new TextEncoder),window.isSecureContext&&window.addEventListener("beforeunload",Object(D.a)(this,ne)[ne])}return Object(R.a)(e,[{key:"write",value:function(e,t){var n=Object(D.a)(this,te)[te](e.target.result);n&&Object(D.a)(this,ee)[ee].write(n),t&&t(Object(D.a)(this,$)[$],n)}},{key:"close",value:function(e){Object(D.a)(this,ee)[ee]&&Object(D.a)(this,ee)[ee].close(),window.removeEventListener("beforeunload",Object(D.a)(this,ne)[ne]),e&&e(Object(D.a)(this,$)[$])}}]),e}(),$=Object(I.a)("file"),ee=Object(I.a)("writer"),te=Object(I.a)("encode"),ne=Object(I.a)("onExitPage"),ae=function(e,t,n){return function(a){a({type:"START_PRELOADER_TYPE",payload:!0}),e.sort(function(e,t){return e.size-t.size}),a(ie({acceptedFiles:e,rejectedFiles:t}));try{e.forEach(function(t,i){var r=new B(n);r.readAsync(t,W.AS_TEXT,function(t){a(re(t)),r.close(function(t){a(oe(t)),i===e.length-1&&(a(ce()),a({type:"FINISH_PRELOADER_TYPE",payload:!1}))})},function(e,t){console.log("File is loading:",e.name,"Loaded chunk size:",t.loaded,"bytes"),r.writeAsync(e,t,function(e,t){return console.log("File is writing:",e.name)})})})}catch(i){a(ce()),a(se(i.message)),a({type:"FINISH_PRELOADER_TYPE",payload:!1})}}},ie=function(e){return{type:"START_FILES_PROCESSING_TYPE",payload:e}},re=function(e){return{type:"FILE_IS_LOADED_TYPE",payload:e}},oe=function(e){return{type:"FILE_IS_WRITTEN_TYPE",payload:e}},ce=function(){return{type:"FINISH_FILES_PROCESSING_TYPE"}},se=function(e){return{type:"FILES_PROCESSING_ERROR_TYPE",payload:e}},le=n(34),ue=n(101),he=n.n(ue),de=n(102),be=n.n(de),fe=n(103),pe=n.n(fe),Oe=n(99),ve=n.n(Oe),ke=n(100),je=n.n(ke),ye=n(45),we=n.n(ye),me=function(e){function t(e,n){var a;return Object(z.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e,n))).handleOnChange=a.handleOnChange.bind(Object(le.a)(a)),a}return Object(L.a)(t,e),Object(R.a)(t,[{key:"handleOnChange",value:function(e){(0,this.props.setChunkSize)(Number(e.target.value))}},{key:"showListOfRadioButtons",value:function(){return this.props.chunkSizeValues.map(function(e,t){return i.a.createElement(ve.a,{id:"radio-".concat(t),key:"radio-".concat(t),classes:{label:we.a.FormControlLabel},value:e.value.toString(),control:i.a.createElement(je.a,{color:"secondary"}),label:e.key,labelPlacement:"top"})})}},{key:"render",value:function(){var e=this.props.chunkPicker;return i.a.createElement("div",{id:"ChunkPicker",className:we.a.ChunkPicker},i.a.createElement(he.a,null,i.a.createElement(be.a,{classes:{root:we.a.FormLabel},focused:!1},"Chunk Size"),i.a.createElement(pe.a,{className:we.a.RadioGroup,value:e.chunkSize.toString(),"aria-label":"position",name:"position",onChange:this.handleOnChange},this.showListOfRadioButtons())))}}]),t}(a.Component),Ee=n(109),Pe=n(66),ge=n.n(Pe),Se=function(e){function t(e,n){var a;return Object(z.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e,n))).handleOnDrop=a.handleOnDrop.bind(Object(le.a)(a)),a}return Object(L.a)(t,e),Object(R.a)(t,[{key:"handleOnDrop",value:function(e,t){var n=this.props.chunkPicker;(0,this.props.onDropFiles)(e,t,n.chunkSize)}},{key:"render",value:function(){return i.a.createElement("div",{id:"DropZone",className:ge.a.DropZone},i.a.createElement(Ee.a,{onDrop:this.handleOnDrop,className:ge.a.Dropzone},"Drop file's here"))}}]),t}(a.Component),_e=n(105),Ce=n.n(_e),ze=function(e){var t=e.chunkPicker,n=e.chunkSizeValues,a=e.setChunkSize,r=e.onDropFiles;return i.a.createElement("div",{id:"Main",className:Ce.a.Main},i.a.createElement(me,{chunkPicker:t,chunkSizeValues:n,setChunkSize:a}),i.a.createElement(Se,{chunkPicker:t,onDropFiles:r}))},Re=n(106),Ae=n(108),Te=n.n(Ae),Le=function(e){var t=e.size,n=e.colors;return i.a.createElement("div",{id:"Preloader",className:Te.a.Preloader},i.a.createElement(Re.a,{size:t,color1:n[0],color2:n[1],color3:n[2],color4:n[3]}))},Fe=["#aaffaa","#008800","#ffaa00","#ff0000"],De=function(e){function t(){return Object(z.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(R.a)(t,[{key:"getMainComponent",value:function(){var e=this.props.chunkPicker,t=this.props,n=t.setChunkSize,a=t.onDropFiles,r=[{key:"8 B",value:8},{key:"1 KB",value:1024},{key:"1 MB",value:1048576},{key:"10 MB",value:10485760},{key:"100 MB",value:104857600},{key:"1 GB",value:1073741824}];return i.a.createElement(ze,{chunkPicker:e,chunkSizeValues:r,setChunkSize:n,onDropFiles:a})}},{key:"getPreloaderComponent",value:function(){if(this.props.preloader.showPreloader)return i.a.createElement(Le,{size:48,colors:Fe})}},{key:"render",value:function(){return i.a.createElement("div",{id:"MainContainer"},this.getMainComponent(),this.getPreloaderComponent())}}]),t}(a.Component);var Ie=Object(c.b)(function(e){return{chunkPicker:e.chunkPicker,preloader:e.preloader}},function(e){return Object(h.bindActionCreators)({setChunkSize:F,onDropFiles:ae},e)})(De),Ne=i.a.createElement("div",null,i.a.createElement(u.b,{path:"/",component:C},i.a.createElement(u.a,{to:"/main"}),i.a.createElement(u.b,{path:"/main",component:Ie}),i.a.createElement(u.b,{path:"*",component:Ie}))),xe=E(),We=Object(l.syncHistoryWithStore)(k,xe);!function(e){if("serviceWorker"in navigator){if(new URL("/file.stream.app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/file.stream.app","/service-worker.js");P?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):g(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):g(t,e)})}}();var Be=i.a.createElement(c.a,{store:xe},i.a.createElement(s.a,null,i.a.createElement(u.c,{history:We},Ne)));o.a.render(Be,document.getElementById("root"))},45:function(e,t,n){e.exports={ChunkPicker:"ChunkPicker_ChunkPicker__QgZrP",FormLabel:"ChunkPicker_FormLabel__aock9",RadioGroup:"ChunkPicker_RadioGroup__1KVSP",FormControlLabel:"ChunkPicker_FormControlLabel__3gLdX"}},66:function(e,t,n){e.exports={DropZone:"DropZone_DropZone__2aEus",Dropzone:"DropZone_Dropzone__2sLPb"}},97:function(e,t,n){e.exports={App:"App_App__tzqGW"}}},[[110,1,2]]]);
//# sourceMappingURL=main.26f859ac.chunk.js.map