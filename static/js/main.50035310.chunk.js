(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports={DropZone:"DropZone_DropZone__2aEus",Dropzone:"DropZone_Dropzone__2sLPb"}},50:function(e,t,n){e.exports={App:"App_App__tzqGW"}},52:function(e,t,n){e.exports={Main:"Main_Main__22WzM"}},55:function(e,t,n){e.exports={Preloader:"Preloader_Preloader__PcQp7"}},57:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(42),i=n.n(r),c=n(26),s=n(80),l=n(15),u=n(10),d=n(6),f=n(45),p=n(46),h=n(47),b=n(48),O=n.n(b),v=n(49),j=Object(u.d)(v.createHistory)({basename:"/file.stream.app"}),y=n(38),m={showPreloader:!1},w=Object(d.combineReducers)({routing:l.routerReducer,preloader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PRELOADER_TYPE":case"FINISH_PRELOADER_TYPE":return Object(y.a)({},e,{showPreloader:t.payload});default:return e}}}),E=function(){var e=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),t=Object(h.createLogger)(),n=Object(l.routerMiddleware)(j),a=Object(d.createStore)(w,e,Object(f.composeWithDevTools)(Object(d.applyMiddleware)(p.a,t,n)));return a.subscribe(O()(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}({})},1e3)),a},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var P=n(50),k=n.n(P),S=function(e){var t=e.children;return o.a.createElement("div",{id:"App",className:k.a.App},t)},R=n(8),A=n(9),D=n(27),z=n(24),T=n(28),C=n(3),F=n(12),I={AS_BINARY_STRING:"readAsBinaryString",AS_TEXT:"readAsText",AS_DATA_URL:"readAsDataURL",AS_ARRAY_BUFFER:"readAsArrayBuffer"},L=function(){function e(t){Object(R.a)(this,e),Object.defineProperty(this,N,{writable:!0,value:void 0}),Object(C.a)(this,N)[N]=t}return Object(A.a)(e,[{key:"readAsync",value:function(e,t,n,a){if(!Object(C.a)(this,N)[N])throw new x("Chunk size should exists and not be equals to zero!");if(!e)throw new x("File should exists!");if(!t)throw new x("Type of reading should exists!");if(!Object.values(I).includes(t))throw new x("Incorrect type of reading!");e.size<Object(C.a)(this,N)[N]&&(Object(C.a)(this,N)[N]=e.size);var o=Object(C.a)(this,N)[N],r=Object(C.a)(this,N)[N];new W(0,o,r,t).read(e,n,a)}},{key:"readAsyncPromise",value:function(e,t,n,a){var o={chunkSize:Object(C.a)(this,N)[N],file:e,typeOfReading:t,onLoadFileCallback:n,onLoadChunkCallback:a},r=new G;return r.validate(o).then(function(e){return r.read(e)})}}]),e}(),N=Object(F.a)("chunkSize"),x=function(){function e(t){Object(R.a)(this,e),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object(C.a)(this,M)[M]=t}return Object(A.a)(e,[{key:"message",get:function(){return Object(C.a)(this,M)[M]}}]),e}(),M=Object(F.a)("message"),W=function(){function e(t,n,a,o){Object(R.a)(this,e),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object(C.a)(this,Y)[Y]=t,Object(C.a)(this,B)[B]=n,Object(C.a)(this,H)[H]=a,Object(C.a)(this,U)[U]=o,Object(C.a)(this,Z)[Z]=new FileReader}return Object(A.a)(e,[{key:"read",value:function(e,t,n){var a=this;Object(C.a)(this,Z)[Z].onloadend=function(o){Object(C.a)(a,Y)[Y]>=e.size?t&&t(e):(n&&n(e,o),Object(C.a)(a,Y)[Y]+=Object(C.a)(a,H)[H],Object(C.a)(a,B)[B]+=Object(C.a)(a,H)[H],a.read(e,t,n))},Object(C.a)(this,Z)[Z][Object(C.a)(this,U)[U]](e.slice(Object(C.a)(this,Y)[Y],Object(C.a)(this,B)[B]))}}]),e}(),Y=Object(F.a)("start"),B=Object(F.a)("stop"),H=Object(F.a)("step"),U=Object(F.a)("typeOfReading"),Z=Object(F.a)("fileReader"),G=function(){function e(){Object(R.a)(this,e),this.validate=function(e){return new Promise(function(t,n){e.chunkSize||n("Chunk size should exists and not be equals to zero!"),e.file||n("Chunk size should exists and not be equals to zero!"),e.typeOfReading||n("Type of reading should exists!"),Object.values(I).includes(e.typeOfReading)||n("Incorrect type of reading!"),e.file.size<e.chunkSize&&(e.chunkSize=e.file.size),e.start=0,e.stop=e.chunkSize,e.step=e.chunkSize,t(e)})}}return Object(A.a)(e,[{key:"read",value:function(e){var t=new FileReader;return new Promise(function n(a,o){t.onloadend=function(t){e.onLoadChunkCallback&&e.onLoadChunkCallback(e.file,t),e.start+=e.step,e.stop+=e.step,e.start>=e.file.size?(e.onLoadFileCallback&&e.onLoadFileCallback(e.file),a(e.file)):n(a,o)},t[e.typeOfReading](e.file.slice(e.start,e.stop))})}}]),e}(),q=function(e,t){return function(n){n({type:"START_PRELOADER_TYPE",payload:!0}),e.sort(function(e,t){return e.size-t.size}),n(J({acceptedFiles:e,rejectedFiles:t}));try{e.forEach(function(t,a){new L(10485760).readAsync(t,I.AS_TEXT,function(t){n(X(t)),a===e.length-1&&(n(Q()),n({type:"FINISH_PRELOADER_TYPE",payload:!1}))},function(e,t){console.log("File is loading:",e.name,"Loaded chunk size:",t.loaded,"bytes")})})}catch(a){n(Q()),n($(a.message)),n({type:"FINISH_PRELOADER_TYPE",payload:!1})}}},J=function(e){return{type:"START_FILES_PROCESSING_TYPE",payload:e}},X=function(e){return{type:"FILE_IS_LOADED_TYPE",payload:e}},Q=function(){return{type:"FINISH_FILES_PROCESSING_TYPE"}},$=function(e){return{type:"FILES_PROCESSING_ERROR_TYPE",payload:e}},K=n(23),V=n(56),ee=n(37),te=n.n(ee),ne=function(e){function t(e,n){var a;return Object(R.a)(this,t),(a=Object(D.a)(this,Object(z.a)(t).call(this,e,n))).handleOnDrop=a.handleOnDrop.bind(Object(K.a)(a)),a}return Object(T.a)(t,e),Object(A.a)(t,[{key:"handleOnDrop",value:function(e,t){(0,this.props.onDropFiles)(e,t)}},{key:"render",value:function(){return o.a.createElement("div",{id:"DropZone",className:te.a.DropZone},o.a.createElement(V.a,{onDrop:this.handleOnDrop,className:te.a.Dropzone},"Drop file's here"))}}]),t}(a.Component),ae=n(52),oe=n.n(ae),re=function(e){var t=e.onDropFiles;return o.a.createElement("div",{id:"Main",className:oe.a.Main},o.a.createElement(ne,{onDropFiles:t}))},ie=n(53),ce=n(55),se=n.n(ce),le=function(e){var t=e.size,n=e.colors;return o.a.createElement("div",{id:"Preloader",className:se.a.Preloader},o.a.createElement(ie.a,{size:t,color1:n[0],color2:n[1],color3:n[2],color4:n[3]}))},ue=["#aaffaa","#008800","#ffaa00","#ff0000"],de=function(e){function t(){return Object(R.a)(this,t),Object(D.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(A.a)(t,[{key:"getMainComponent",value:function(){var e=this.props.onDropFiles;return o.a.createElement(re,{onDropFiles:e})}},{key:"getPreloaderComponent",value:function(){if(this.props.preloader.showPreloader)return o.a.createElement(le,{size:48,colors:ue})}},{key:"render",value:function(){return o.a.createElement("div",{id:"MainContainer"},this.getMainComponent(),this.getPreloaderComponent())}}]),t}(a.Component);var fe=Object(c.b)(function(e){return{preloader:e.preloader}},function(e){return Object(d.bindActionCreators)({onDropFiles:q},e)})(de),pe=o.a.createElement("div",null,o.a.createElement(u.b,{path:"/",component:S},o.a.createElement(u.a,{to:"/main"}),o.a.createElement(u.b,{path:"/main",component:fe}),o.a.createElement(u.b,{path:"*",component:fe}))),he=E(),be=Object(l.syncHistoryWithStore)(j,he);!function(e){if("serviceWorker"in navigator){if(new URL("/file.stream.app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/file.stream.app","/service-worker.js");g?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):_(t,e)})}}();var Oe=o.a.createElement(c.a,{store:he},o.a.createElement(s.a,null,o.a.createElement(u.c,{history:be},pe)));i.a.render(Oe,document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.50035310.chunk.js.map